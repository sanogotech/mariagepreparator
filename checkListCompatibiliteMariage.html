<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Checklist Compatibilit√© de Couple ‚Äì Analyse compl√®te</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
    }
    .card {
      margin-bottom: 20px;
      border-left: 5px solid #0d6efd;
    }
    .result-box {
      background-color: #e9ecef;
      padding: 15px;
      border-radius: 5px;
      margin-top: 20px;
    }
    ul {
      padding-left: 1.2rem;
    }
  </style>
</head>
<body>
  <div class="container py-4">
    <h1 class="text-center text-primary mb-4">‚úÖ Compatibilit√© de Couple ‚Äì Analyse Compl√®te</h1>
    <form id="compatibilityForm">
      <div id="questionsContainer"></div>

      <div class="text-center mt-4">
        <button type="button" class="btn btn-success btn-lg" onclick="calculateCompatibility()">Voir le score & analyse</button>
      </div>

      <div id="result" class="result-box text-center mt-4"></div>
      <div id="strongPoints" class="result-box mt-4"></div>
      <div id="weakPoints" class="result-box mt-4"></div>
      <div id="recommendations" class="result-box mt-4"></div>
    </form>
  </div>

  <script>
    const categories = {
      "Vision de la vie √† deux": [
        "Nous partageons une vision similaire du mariage.",
        "Nous avons discut√© de nos objectifs de vie √† long terme.",
        "Nous sommes align√©s sur le style de vie que nous souhaitons.",
        "Nous avons une id√©e claire du r√¥le de chacun dans le couple.",
        "Nous avons abord√© le sujet de la parentalit√© (ou non)."
      ],
      "Valeurs et croyances": [
        "Nos croyances fondamentales sont compatibles.",
        "Nous respectons les diff√©rences de convictions.",
        "Nous avons discut√© de nos valeurs √©thiques et spirituelles.",
        "Nous voulons transmettre des valeurs similaires √† nos enfants.",
        "Nos priorit√©s (famille, foi, carri√®re) sont align√©es."
      ],
      "Communication": [
        "Nous parlons librement de nos √©motions.",
        "Nous savons g√©rer les d√©saccords calmement.",
        "Nous avons un langage affectif compatible.",
        "Nous √©coutons activement l‚Äôun l‚Äôautre.",
        "Nous sommes transparents sur les sujets sensibles."
      ],
      "Gestion financi√®re": [
        "Nous avons discut√© de notre approche de l‚Äôargent.",
        "Nous connaissons les dettes et revenus de chacun.",
        "Nous avons des attentes similaires sur les d√©penses.",
        "Nous avons une strat√©gie commune pour √©conomiser.",
        "Nous sommes √† l‚Äôaise pour parler d‚Äôargent ensemble."
      ],
      "Famille et entourage": [
        "Nous avons abord√© nos relations avec les familles respectives.",
        "Nous connaissons les attentes de nos familles.",
        "Nous avons d√©fini notre niveau d‚Äôind√©pendance familiale.",
        "Nous savons comment g√©rer les conflits familiaux.",
        "Nous sommes sur la m√™me longueur d‚Äôonde concernant les f√™tes et traditions."
      ],
      "Intimit√© et sexualit√©": [
        "Nous avons discut√© de nos besoins et attentes sexuelles.",
        "Nous partageons des limites et des d√©sirs compatibles.",
        "Nous abordons le sujet avec respect et honn√™tet√©.",
        "Nous avons une bonne compr√©hension de l‚Äôintimit√© affective.",
        "Nous avons parl√© de fid√©lit√© et d‚Äôengagement physique."
      ],
      "Projets de vie": [
        "Nous voulons √©voluer dans des directions compatibles.",
        "Nos ambitions professionnelles sont conciliables.",
        "Nous voulons vivre dans un lieu g√©ographique commun.",
        "Nous avons une vision align√©e du rythme de vie.",
        "Nous avons parl√© de nos projets individuels et de couple."
      ],
      "Temps et priorit√©s": [
        "Nous savons g√©rer notre temps ensemble et s√©par√©ment.",
        "Nous avons des attentes r√©alistes sur la disponibilit√© de l‚Äôautre.",
        "Nous valorisons les m√™mes activit√©s de couple.",
        "Nous respectons les temps personnels de chacun.",
        "Nous savons accorder du temps de qualit√© au couple."
      ],
      "√âpreuves et r√©silience": [
        "Nous avons travers√© des moments difficiles ensemble.",
        "Nous savons nous soutenir mutuellement.",
        "Nous avons vu comment chacun r√©agit au stress.",
        "Nous avons confiance en notre capacit√© √† affronter les √©preuves.",
        "Nous croyons en notre engagement m√™me dans les moments de doute."
      ],
      "Compatibilit√© √©motionnelle": [
        "Nous savons reconna√Ætre les √©motions de l‚Äôautre.",
        "Nous sommes sensibles aux besoins affectifs r√©ciproques.",
        "Nous ne cherchons pas √† changer l‚Äôautre.",
        "Nous ressentons une s√©curit√© √©motionnelle mutuelle.",
        "Nous nous sentons pleinement nous-m√™mes ensemble."
      ]
    };

    function generateChecklist() {
      const container = document.getElementById("questionsContainer");
      let questionIndex = 1;

      for (let [category, questions] of Object.entries(categories)) {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `<div class="card-header fw-bold">${category}</div><div class="card-body"></div>`;
        const body = card.querySelector(".card-body");

        questions.forEach(q => {
          const id = `q${questionIndex++}`;
          const div = document.createElement("div");
          div.className = "form-check mb-2";
          div.innerHTML = `
            <input class="form-check-input" type="checkbox" id="${id}" name="${id}">
            <label class="form-check-label" for="${id}">${q}</label>
          `;
          body.appendChild(div);
        });

        container.appendChild(card);
      }
    }

    function calculateCompatibility() {
      const checkboxes = document.querySelectorAll("input[type='checkbox']");
      const allQuestions = [];
      const checkedQuestions = [];

      let i = 0;
      for (const category in categories) {
        for (const q of categories[category]) {
          const id = `q${++i}`;
          const checkbox = document.getElementById(id);
          allQuestions.push(q);
          if (checkbox.checked) checkedQuestions.push(q);
        }
      }

      const total = allQuestions.length;
      const score = checkedQuestions.length;

      // Niveau
      let level = '';
      if (score >= 45) {
        level = "üíë Tr√®s forte compatibilit√© !";
      } else if (score >= 35) {
        level = "üü¢ Bonne compatibilit√©, quelques points √† am√©liorer.";
      } else if (score >= 25) {
        level = "üü† Compatibilit√© moyenne, dialogue indispensable.";
      } else {
        level = "üî¥ Faible compatibilit√©. Revoir les fondations du couple.";
      }

      document.getElementById("result").innerHTML = `<strong>Score :</strong> ${score}/50<br><strong>Niveau :</strong> ${level}`;

      // Points forts et faibles
      const strongPoints = checkedQuestions.slice(0, 10);
      const weakPoints = allQuestions.filter(q => !checkedQuestions.includes(q)).slice(0, 10);

      document.getElementById("strongPoints").innerHTML = `
        <h5 class="text-success">‚úÖ Top 10 des forces du couple :</h5>
        <ul>${strongPoints.map(q => `<li>${q}</li>`).join('')}</ul>
      `;

      document.getElementById("weakPoints").innerHTML = `
        <h5 class="text-danger">‚ö†Ô∏è Top 10 des fragilit√©s √† explorer :</h5>
        <ul>${weakPoints.map(q => `<li>${q}</li>`).join('')}</ul>
      `;

      // Recommandations
      let recText = `
        <h5 class="text-primary">üí° Recommandations & Bonnes Pratiques :</h5>
        <ul>
          <li>Planifiez des discussions sinc√®res sur les points faibles identifi√©s.</li>
          <li>Consultez un conseiller conjugal ou faites un atelier de pr√©paration au mariage.</li>
          <li>Renforcez vos forces par des actions concr√®tes (ex : rituels, rendez-vous, projets communs).</li>
          <li>Revenez √† cette checklist dans 1 √† 3 mois pour observer les √©volutions.</li>
          <li>Pratiquez l‚Äô√©coute active, la gratitude et le pardon mutuel.</li>
        </ul>
      `;
      document.getElementById("recommendations").innerHTML = recText;
    }

    window.onload = generateChecklist;
  </script>
</body>
</html>
